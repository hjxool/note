## 网络互联模型及协议

### 网络功能和分类

- 计算机网络功能
  - 数据==通信==
  - 资源==共享==
  - 管理==集中==化
  - 实现==分布式==处理
  - ==负载均衡==
- 性能指标
  - 速率（每秒多少兆）
  - 带宽（每秒最大==上限==）
  - 吞吐量（每秒==成功传输==数据量）
  - 时延（传输数据的延迟）
  - 利用率（真实传输速率 / 带宽 的百分比）
- 非 性能指标
  - 费用（办网费用）
  - 质量（能否穿墙）
  - 标准化
  - 可靠性
  - 可拓展性
  - 可升级性
  - 易管理性
  - 可维护性
- 按 ==分布范围== 分类
  - ※局域网（LAN）
    - 分布距离 ==1km== 以内
    - 使用场景
      - 房间、楼栋、校园
    - 速率
      - 4**M**bps ~ 1**G**bps
  - 城域网（MAN）
    - 分布距离 ==10km==
    - 使用场景
      - 城市
    - 速率
      - 50**K**bps ~ 100**M**bps
  - ※广域网（WAN）
    - 分布距离 ==100km== 以上
    - 使用场景
      - 国家、全球
    - 速率
      - 9.6**K**bps ~ 45**M**bps
- 按 ==拓扑结构== 分类
  - 总线型
    - 计算机节点都连到一根总线上
    - 利用率低、干扰大、价格低
      - 干扰大：一台机器出问题会影响总线上其他机器
  - 星型
    - 常见于家庭路由器
    - 交换机形成的局域网、中央单元负荷大
  - 环型
    - 闭环
    - 流动方向固定、效率低、扩充难
      - 效率低：每台机器的瓶颈都成为了整个网络的瓶颈
      - 扩充难：一旦加入新机器，就得重新搭建
  - 树型
    - ==总线型==的扩充、分级结构
      - 总线型的扩充：比 总线型 多了==分级结构==
  - 分布型
    - 任意节点连接、管理难、成本高
      - 任意节点连接：每台机器都要知道其他机器的地址以及==映射关系==
      - 管理难：一旦有机器出了问题，要对其他节点的机器更新信息

### 网络互联模型

- 概念

  - 即网络上能找到的机器两两间如何连接

  - 如果是本地的、机器少，直接找根 **网线** 就能连接
  - 如果有多台，就找个 **交换机** ，交换机通过机器的MAC地址互相连接
    - MAC地址：每台网络设备都有自己**唯一**的MAC地址
  - 再远一点，如果有多个网段，但是同属一个==局域网==，加配 **路由器** ，路由器之间通过 ==IP== 连接
    - IP地址：也是唯一的，但分 广域 和 局域网 内的IP地址
  - 更远一些，如果 局域网 之间要连接，就需要使用**国际标准**组织制定的标准，即 ==OSI体系标准==

- OSI体系结构

  - 考点：每层相关 协议、作用
  - 分7层
    - 建立==连接==依靠 物理层、数据链路层、网络层
    - ==传输==数据依靠 传输层
      - 传输层：决定传输方式，如快递选中通还是德邦
    - ==数据==形式依靠 会话层、表示层、应用层
      - 简单记，决定数据是画出来，是用英文还是中文等等

- TCP/IP 体系结构

  - 是对 OSI体系结构 的简化
  - 如OSI的会话层、表示层、应用层合并为 ==应用层==
    - 物理层、数据链路层合并为 ==网络接口层==
    - 传输层、网络层 原样保留

#### OSI体系结构

1. 物理层

   - 简单理解，就是==物理层面==连根网线将开放系统连接
   - 协议：RS232、V.35、RJ-45、FDDI等
   - 都是用 ==二进制==传输，形式就是电信号、光信号等
   - 主要设备
     - 中继器
     - 集线器

2. 数据链路层

   - 因为二进制传输不安全，缺乏加密，所以有数据链路层，将二进制封装为以 ==帧== 为单位的信息
     - 帧：就像快递包裹，包裹里是二进制数据，包裹外有标签(控制信息)，从而保证传输过程不会损坏和丢失。通常包括帧头、数据部分、帧尾
       - 帧头：包裹标签，告诉网络这个数据包从哪儿来，要到哪儿去
       - 帧尾：包裹的封条，即校验信息，检查数据在传输过程中有没有出错

   - 是针对 ==MAC地址== 建立的链路
   - 协议：IEEE802.3/.2、HDLC、PPP、ATM等
   - 主要设备
     - ==交换机==
     - 网桥

3. 网络层

   - 在传输单位上做的升级，将==数据分组==用于传输
     - 类似大件行李通过拆分运送，将一块数据==分段==传输
   - 解决路由器选择、网络拥塞、异构网络互联的问题
     - 网络层好比一个国际快递公司，从一个国家送到另一个国家，即使两个国家的邮政系统完全不同，国际快递公司使用统一的标准和流程，确保包裹能够顺利送达
   - 协议：IP、IPX等
   - 主要设备
     - ==路由器==

- 通过上面三层，机器在网络中就能==定位==到了，机器间==连接方式==也确定了

4. 传输层
   - ==端口到端口==连接，传输报文
     - 端：比如电脑上多个端口
       - 与数据链路层连接方式的区别
         - 数据链路层是 MAC 到 MAC
         - 传输层是 端口 到 端口
     - 报文：传输层会把数据分成一个个小块，每个小块就叫做“报文”
       - 与网络层数据分组的区别
         - 网络层分的更细！好比寄一套书给朋友，网络层是将每本书装进不同的包裹，并写上寄件人和收件人的地址
         - 而传输层相当于把装着一个个包裹再分组，并标注上序号
   - 协议：TCP、UDP等
   - 主要设备
     - ==网关==
5. 会话层
   - 主要是确认==通信的权限==。服务包括通信控制、检查点设置、中断重连、安全验证
   - 协议：==SSL==、SQL、RPC等