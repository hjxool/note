## 重点

- 软件工程、架构设计、质量属性、架构评估章节看书，其他刷题就能过
- 选择 靠 刷题
- 案例分析 需要 刷题、项目经验积累、做题技巧
- 论文 需要 多写、多练
- 准备步骤
  - [x] 软工、架构以外的题目，直接刷题
  - [x] 因为已经跟视频刷过软工、架构的真题，因此软工、架构先看书，带着问题看书
  - [x] 然后再返回题库，刷软工、架构的题目，巩固知识点
  - [x] 再刷软工、架构以外的题目，巩固知识点
  - [x] 至此选择题和知识点已准备妥当，为论文理论基础做了部分准备，接下来看书本下篇的架构场景，补充场景知识
  - [ ] 利用AI结合项目和方向写3篇论文，进一步巩固各类知识点，在写作中以达到融会贯通
  - [ ] 案例分析所需的知识储备在以上过程中已准备妥当，其次就是看运气


## 需要看官方教材的部分

![看书部分.png](https://github.com/hjxool/static-resource-save/blob/main/%E7%9C%8B%E4%B9%A6%E9%83%A8%E5%88%86.png?raw=true)

## 案例分析

- 数据库看面试题，问AI，记一下，基本案例分析的数据库题就能拿下

## 论文

### 论文选题

1. 看题目
2. 看问题中2~3问

### 字数分配

- 摘要300字 + 项目背景400字 + 回答问题200字 + 主体1000字 + 结尾300字

### 如何用AI生成第一篇

1. 把项目跟大模型讲清楚，让后让大模型从系统架构师的角度拆解整个项目
   - 拆解出：分析、设计、实现、运维
2. 仔细看生成的论文，形成第一感
3. 然后对自己了解和擅长的点对大模型进行细问，”如果想侧重xx点，该怎么做“
4. 通过不断和大模型对话，改写整个项目
5. 通过不断阅读，理解架构师角度思考的问题
6. 按写作格式、生成的范文自己写一篇出来
   - 不要直接死记硬背范文，要自己写，结合自己的理解，这样在遇到不同的情况能够变通
7. 注意点：
   - 不要用口语化的文字描述架构中涉及的资源！
     - 用架构、质量属性、架构评估的名词来进行描述，记忆
   - 不要纯理论，要结合质量场景，来给出规避的方案
     - 否则会被认为是没有经验，纯编的
   - 可以将范文发给AI，告诉它这是我觉得写得比较好的论文，请读取这篇论文，帮我分析出他要写作的几个特点是什么
     - 然后将自己的项目告诉AI，让它将自己的项目与范文进行融合
     - 找到不合适的地方，自己写一段，告诉AI模仿自己的语气重写一篇

### 项目背景怎么写

1. 项目背景
   - 即为什么做这个项目
   - 什么时间，因为什么事情，公司接了一个什么样的项目
2. 自己在项目中的角色是什么
   - 项目中是技术骨干
3. 团队人员有多少、项目金额有多少、开发时间有多长
4. 完成交付后，稳定运行多长时间，多少个月，最后得到客户的一致好评

### 搭建自己的万能模板

1. 找项目，对于承担角色太小、项目太小，都丢给大模型让它扩项目
   - 推荐项目：大型信息系统项目、云计算、大数据
   
2. **摘要**（300字） 可以提前准备，不同论文主题都是通用的
   
   - 项目名称、项目金额、项目历时、团队介绍、项目简介
   - 岗位 + 职责
   - 论文主题概括
   - 分两段
     - 第一段：通用的介绍项目背景
     - 第二段：根据论文题目发挥，回应子题目，介绍论文结构
   - 注：摘要和正文不是承接关系，而是总分关系，不要因为摘要里写过的东西，正文就不需要再写一遍，更不要正文续着摘要写
   - **模板**
     - （第一段）本人于XX年月参与XX项目，该系统起到了XX作用，在该项目中本人承担XX岗位，主要负责XX
     - （第二段）本文以XX项目为例，主要讨论XX（论文主题）在该项目中的应用。（介绍系统**构成**，以及每个构成**用到了**论文主题的**哪一块**知识点，以及**为什么**要用这个知识点，多用知识点中的名词，不要用口水词）
   
3. **背景**（400字）对 摘要 中的部分展开进行介绍
   
   - 项目背景和系统功能、用到的技术的详细介绍
     - 项目是做什么的、有哪些功能模块、模块分别做什么事情
   - 项目开发时间
   - 项目组规模
   - 岗位、职责
   - **模板**
     - （第一段）随着XX变化...（项目应运而生的背景）。本项目的开发成员工XX个（项目组规模），本人在项目中担任XX职责（岗位、职责），XX年月完成项目开发工作，历时XX年，于XX年月完成交付（项目开发时间），项目上线后服务XX万使用者（项目规模）
     - （第二段）项目由XX功能模块组成（项目功能模块、用到的技术）由于该项目使用了XXX（论文主题），极大的增强了XXX特性（子主题，为引入回答问题2做铺垫），下面针对XXX（论文主题）的这些特性进行介绍
   
4. **回答题目问题**（400字）
   
   - 承接上述项目背景和论文主题，回答知识点
   - 引出论文主体内容
   - **模板**：如问题2，架构风格有哪些，进行描述
     - 在架构工作开始阶段，我们便意识到架构风格是一组设计原则，能够提供抽象架构模式，为项目提供通用解决方案，提高设计重用的方法，加快建设进程...（引入为什么要用论文主题）。因此在全组人员讨论下，我们使用虚拟机风格、B/S架构风格...（回答 问题2 可以结合项目回答）。虚拟机风格中的解释器架构风格能够提供灵活的解释引擎...（回答 问题2 详细说明架构风格的作用，不用结合项目）。下述正文将重点描述架构风格的实施过程和效果（过渡到正文）
   
5. **论文主体**（1000字）
   
   1. **解释**论文主题中的知识点
   2. 说明**业务场景**
   3. **结合**项目与知识点、遇到的**问题**、**解决**的思路、涉及的**技术**、用到的**工具**
      - 注：不需要全写，
   
   - **模板**：以其中一段为例
     - 底层架构我们使用XX来满足XX需求。XX是...（**解释**论文主题中知识点的概念），在本项目中...（说明项目的**业务场景**）。具体做法如下，我们对XX数据进行抽象，由于...（**结合** 项目 与 知识点）...（遇到的**问题**）...（**解决**的思路）
   
6. **总结**（300字）
   - 项目上线效果、客户评价
   - 碰到什么问题（非个人原因的问题）、解决思路
   - **模板**
     - （第一段）项目于XX年月完成验收...（项目何时验收，上线效果如何），得到了客户邮件表扬（客户评价），除了业主机房几次突发性网络故障之外，至今未有重大生产事故，项目组现在留有1个开发人员和1个售后在进行维护，系统维护量是可控的，系统运行比较稳定
     - （第二段）不足之处...

### 作业

- 提取出近6次考试（20~24）中软件工程、架构题目的论点，这样做的目的是加快考场写论文速度

  ![论文1.png](https://github.com/hjxool/static-resource-save/blob/main/%E8%AE%BA%E6%96%871.png?raw=true)
- 参考模板结构综合自己的项目，问答AI得到第一篇论文
- 把近6年论文考试中出现的**题目**分别写3个论点，并重点记忆

  - 2020年
    - 论软件测试中缺陷管理及其应用
      1. 从 开发模型 切入，如瀑布模型发现缺陷的滞后性，V模型的优势
      2. 从 需求工程 切入，在需求分析、设计阶段使用数据流图、数据字典等方法避免歧义、保持一致性，预防缺陷、跟踪缺陷
      3. 从  测试 切入，使用单元、集成、系统等测试手段捕获缺陷

    - 论企业集成架构设计及应用
  
      1. 基于SOA和中间件的分层架构设计实现企业系统解耦与集成，阐述数据层（数据仓库+ETL工具）、服务层（ESB企业服务总线）、应用层（微服务+API网关）的具体分层模型、分布式事务中间件的实践
  
      1. 基于ABSD方法的质量驱动型架构设计过程，质量属性冲突解决方案、开发视图与部署视图的映射方法（Docker容器化部署方案设计）、通过混沌工程测试中间件容错能力（模拟Redis集群节点宕机）
  
      1. ATAM评估实操，展示敏感点分析过程（如ESB单点故障影响可用性）、记录风险应对方案（引入Nginx集群实现ESB负载均衡）
  
    - 论云原生架构及其应用
      1. 基于容器化与微服务的弹性架构设计实现资源高效利用，如Docker实现环境一致性、K8s自动化部署、扩展和管理容器化应用
      2. **DevOps**与**持续交付**流水线驱动的质量内建体系，DevOps是融合开发（Dev）与运维（Ops），强调自动化、协作与快速反馈
      3. 基于可观测性与成本模型的云原生架构评估优化，可观测性是通过日志（Logs）、指标（Metrics）、追踪（Traces）三支柱全面监控系统状态，支持快速定位问题根因
  
  - 2021年
    - 论面向方面（AOP）的编程技术及其应用
      1. 从 开发模型 切入，描述如何优化所选取的开发模型过程，如将分散的交叉代码抽取为切面
      2. 从 需求工程 切入，弥补面向对象设计的局限性，如多个类中重复代码
      3. 从 系统可维护性 切入，使得系统更易于维护
    - 论系统安全架构设计及其应用
      1. 将安全作为核心质量属性融入系统架构设计，实现内建安全。强调在系统设计之初，就应将安全作为与其他重要的质量属性同等重要的考量因素。这与基于架构的软件开发（ABSD）理念契合，意味着安全需求是驱动架构决策的关键因素之一，而不是开发后期才附加的功能
      2. 探讨不同的架构风格（如层次架构、面向服务的架构 SOA 等）如何影响安全措施的部署位置、复杂度和有效性。如，层次架构中，安全控制可能集中在某些层级（如应用层和数据层之间），形成防御纵深；而 SOA 中，安全则分散在各个服务以及服务间的通信中
      3. 构建有效的安全架构评估机制与利用中间件加固系统安全防线。讨论中间件在实现和加强系统安全方面的关键作用，常见的安全中间件（如身份认证服务、API网关、统一授权平台等）如何作为安全基础设施，为上层应用提供统一、可靠的安全服务，减轻业务系统的安全负担
    - 论企业集成平台的理解与应用
      1. 理解企业集成平台的必要性：解决大型企业内异构系统的“通信”难题，打破数据与功能“孤岛”。异构系统带来的挑战
      2. 实现数据转换、消息路由与流程编排，支撑面向服务的架构（SOA）
      3. 分析应用企业集成平台带来的好处，以及在实施过程中可能遇到的挑战
    - 论微服务架构及其应用
      1. 阐述微服务架构是什么，以及它与传统的单体架构和面向服务架构（SOA，虽然有联系但通常指更粗粒度的服务）的主要区别
      2. 采用微服务架构在大型、需要高可用性和频繁迭代的系统中的好处。重点阐述**可伸缩性**（按需扩展特定服务）、**弹性**（一个服务故障不影响其他服务）、**独立部署能力**（团队可以独立发布自己的服务），以及它带来的技术栈多样性（每个服务可以选择最适合自己的技术）
      3. 讨论微服务架构在实际落地中面临的复杂性。如，分布式管理分布式事务、服务间通信、如何进行统一的监控和日志收集
  
  - 2022年
    - 论基于构件的软件开发方法及其应用
      1. 结合敏捷开发，能够快速搭建系统，缩短开发周期
      2. 基于构件的开发方法对需求分析、设计以及测试阶段提出了新的要求和方法论，强调面向接口的设计、构件的标准化以及集成测试的重要性
      3. 在大型复杂系统构建、遗留系统改造与系统转换方面具有独特优势
    - 论软件维护方法及其应用
      1. 阐述四种基本维护类型的定义，分析不同维护类型下的侧重
      2. 分析遗留系统维护面临的挑战，介绍逆向工程，强调版本控制、自动化测试等工具作用
      3. 论证预防性维护、软件开发初期可维护性设计原则（如模块化、高内聚低耦合）
  - 2023年
    - 面向对象（OOA）分析
      1. 解释OOA、论述核心原则（如抽象、封装、继承）的应用和作用、探讨OOA模型如何帮助用户和开发者更好地理解系统需求和结构
      2. 对比OOA与结构化分析、论证OOA为何能更直观地反映现实世界实体及其交互
      3. 用例图、类图、顺序图、状态图等在OOA阶段的应用，讨论在实际项目中进行OOA时可能遇到的挑战
    - 可靠性分析与评价方法
      1. 将可靠性视为与其他质量属性（如性能、安全性、可用性等）同样重要的设计目标，而不是事后弥补的功能。讨论如何在系统架构设计的早期阶段（与ABSD理念一致），就主动进行可靠性分析，识别潜在的故障点、分析故障传播路径，从而在设计层面规避或减轻可靠性风险
      2. 探讨如何对系统的可靠性进行实际的评估。例如分析系统的组件依赖关系、识别单点故障、计算理论上的可用性指标。系统构建完成后，通过各种测试手段来评估可靠性，比如负载测试（看高压力下是否稳定）、压力测试（看极限情况下是否崩溃），以及更高级的故障注入（主动模拟某个组件故障，看系统如何反应）。探讨不同的架构风格（如微服务）对可靠性评估方法带来的影响和挑战
      3. 探讨在构建系统时，如何运用成熟的架构设计模式、选择合适的中间件、引入冗余提升系统的可靠性
  - 2024年
    - 单元测试
      1. 什么是“单元”（函数、方法、类、模块等），为何要“隔离”测试、单元测试在软件开发生命周期中的位置和重要性、分析“缺陷早期发现”的经济学原理
      2. 介绍测试驱动开发（TDD）的基本流程、论述可测试代码如何反过来驱动开发者写出更低耦合、高内聚、职责单一的模块化代码
      3. 探讨如何组织和维护大规模的单元测试套件，确保其长期有效且易于管理
    - 大数据Lambda架构
      1. 阐述Lambda架构，在大数据场景下，我们既需要对历史的全部数据进行**精确分析**（批处理），又需要对实时产生的**新数据快速响应**（流处理）。传统的单一架构难以同时高效地满足这两个需求。Lambda架构通过设计两条并行的数据处理通道——**批处理层（Batch Layer）\**和\**流处理层（Speed Layer）**，并最终将结果合并提供给查询层，从而在保证数据**最终准确性**的同时，也提供**低延迟**的数据服务
      2.  详细介绍Lambda架构的三个主要逻辑层——批处理层、流处理层和服务层，以及它们处理的**不可变主数据集**。批处理层负责存储原始数据，计算出全面的、高度精确的批处理视图；流处理层负责实时处理新数据，计算出低延迟但可能不完全精确的实时视图；服务层则负责将批处理视图和实时视图结合起来，响应用户的查询请求（通常通过API暴露给前端或其他应用）
      3. 探讨Lambda架构在实际应用中带来的好处和潜在的问题
    - 论面向服务的架构设计
      1. 面向服务的架构核心设计原则
      2. 重点阐述服务契约的标准化带来的**互操作性**（不同技术栈的系统可以轻松互相调用服务），服务的独立性和良好定义带来的**可重用性**（一个服务可以被多个不同的应用或业务流程调用），以及通过组合现有服务快速构建新应用或调整业务流程带来的**业务敏捷性**
      3. 讨论将SOA设计落地到实际系统中需要哪些技术支持、中间件扮演的关键角色。服务不是孤立存在的，它们需要互相发现、互相通信
  - 总结
    - 软件工程方面的论文，所涉及的点
      - 前期工作：考面向对象的**分析**、**设计**
      - 中期工作：考实现，用到了哪些**开发方法**、开发过程中遇到了哪些**问题**、问题，人员等**管理**
      - 后期工作：考**测试**、**运维**


### 押题

- **云原生架构**
  - 注1：关注**持续交付**、**DevOps**、**CI/CD**具体开发方法，有可能考到
- 软件工程
  - 结构化分析方法 + 面向对象相关设计 + 数据库设计

- 鸿蒙架构
- **微服务**
- **架构评估**（ATAM）
- 数据库
- **安全架构**

### ※ 注意事项

- 业务层面不要太细，不要写技术实现，讨论的是架构，不是具体实现
- 不要太泛，不要平铺直叙，相关知识介绍概念，要结合项目说明如何用到相关知识
- 背景 部分要对项目中子系统、构件模块简要介绍做什么用的，不要只提名字
- 背景 部分，提到的子系统、构件不要太多，3个就很合适，写3段
- 主体 部分，每段要对应背景中提到的子系统、构件
- 主体 部分，每段开头要介绍用到的架构知识点的概念
  - 如论文主题是讨论UML图，在用例图段，开头要说明用例图是干嘛的，不要太长，一二句话即可，太长会喧宾夺主，显得这一段很多都浮于表面，只介绍了概念，没结合实际项目

### 提问AI模板

- 对比：能否根据以下我给出的范文，结合我所参与的项目（项目主要是为了将公司产品设备甚至第三方设备由平台进行统一监测、控制、动态展示可视化数据，并集成了会议管理系统，除了会议流程管理，还将平台接入的设备与学校、会议室等场所融合，项目基于微服务架构，分布式部署），以“论安全架构”为主题，生成一篇论文

- 请以“论安全架构”为主题，将主题涉及的技术方案，应用到到我参与的物联网云平台项目（项目主要是为了将公司产品设备甚至第三方设备由平台进行统一监测、控制、动态展示可视化数据，并集成了会议管理系统，除了会议流程管理，还将平台接入的设备与学校、会议室等场所融合，系统是分布式部署的服务，用到了RabbitMQ、Seata、OAuth 2.0、Redis、Nginx、Nacos、Spring Cloud、Docker等），按照以下我给出的行文模板，以系统架构设计师视角，生成一篇论文，注意括号中内容为模板中填写内容需求，用一些成熟或流行的技术解决方案。

  总体要求：不要写小标题，把相关但零散的点糅合成一段；

  摘要部分（300字左右，分两段）：

  （第一段）本人于2022年3月参与物联网云平台项目，并担任系统架构设计师一职，负责该系统的架构设计和技术规划。（该系统的作用或目标）

  （第二段）本文以物联网云平台项目为例，主要讨论（论文主题）在该项目中的应用。（列举3个与论文主题相关的系统构成，每个构成用到了论文主题的哪一块知识点，以及为什么要用这个知识点，注意多用知识点相关名词，不要用口水词）；

  项目背景部分（400字左右，分两段）：

  （第一段）（项目应运而生的背景）。本项目开发人员17人，包含产品经理、前后端、移动端、嵌入式、测试等多类技术人员，本人在项目中担任系统架构设计师，负责（职责）。该系统历时16个月，于2023年7月完成交付。

  （第二段）系统由设备管理、数据中心、租户管理等模块构成。具体而言（描述各模块功能）。由于该系统使用了（论文主题），极大的增强了（为回答论文主题知识点做铺垫）特性，下面针对（论文主题）的这些特性进行介绍；

  回答论文主题知识点部分（400字左右，只有一段）：

  （介绍论文主题相关知识概念）。接下来我将结合项目实际情况探讨（论文主题）的应用；

  正文部分（800字左右，分三段）：

  （对应摘要部分列出的3个系统构成，每段开头解释论文主题中知识点的概念。然后说明项目的业务场景。再结合项目与知识点阐述遇到的问题，以及解决思路，不要描述具体操作，架构师考虑的是宏观层面，过于详细的操作步骤在本论文中会偏离重点，描述一下应对问题的技术手段及其作用即可）；

  总结部分（300字左右，分两段）：

  （第一段）（项目何时验收，上线效果如何、客户评价）。

  （第二段）尽管项目取得了显著成效，但在（论文主题）方面仍有提升空间。未来可以探索引入（不足之处，可以提一些前沿相关技术作为未来改进的方向）

### 范文

论微服务架构及其应用

 2022年4月，我参与了某市水务集团的智慧水务管理系统项目的建设工作，并担任了系统架构师一职,负责该系统的架构设计和技术规划。该项目致力于打造一个集表务、营收、报表等功能为一体的综合性管理系统，旨在全方位提升水务集团的日常工作效率。

本文以该智慧水务管理系统为例，主要讨论了微服务架构在项目中的应用。微服务架构将单一系统拆分为多个独立服务，每个服务可根据实际业务需求选择合适的技术栈，并能独立开发、测试和部署。这种架构确保了单个服务的故障不会影响到整个系统，具有单体架构不具备的优势。因此，我选择了微服务架构作为系统的基石。该项目历时 10 个月，于 2023年2月正式上线，并平稳运行至今，赢得了客户的高度赞誉。

在国家政策的积极引导和支持下，水务行业的数字化转型已经是行业发展的必然选择。在数字化转型前，水务行业普遍面临着运营效率低下、客户服务响应慢等问题，已经无法满足现代化的需求。因此某市水务集团积极响应国家的号召，委托我公司承建智慧水务管理系统，以进行数字化转型。

本项目自 2022年4月开始，我在项目中担任了系统架构师一职，主要负责架构设计、技术选型、架构实现等工作。该系统包含了表务模块、营收模块、报表模块等功能模块，具体而言，表务模块主要负责水表档案管理以及抄表数据采集，并进行水费计算;营收模块专注于用户账户管理、水费收费流程以及发票开具;报表模块则承担抄表、收费等数据的统计分析工作。该系统历时 10个月，于2023年2月正式上线，并平稳运行至今，为客户的常工作提供了全方位的软件支持，解决了客户之前工作上的痛点和难点,赢得了客户的高度赞誉。由于在本系统中使用了微服务架构，所以系统得以能够按时且高质量的完成。

微服务架构相较于单体架构，其特点体现在复杂应用的解耦、服务的独立性、技术栈的灵活选择、系统的易扩展性和出色的容错能力等方面。通过将复杂的单体应用拆分为多个专注于特定业务需求的小型服务，微服务架构实现了复杂应用的解耦。这些服务能够独立进行开发、测试及部署，服务的独立性显著提升了开发效率。同时，每个服务都能根据业务需求自由选择合适的技术栈，进一步增强了系统的灵活性和适应性。此外，微服务架构能够根据实际需求对每个服务进行独立扩展，确保系统在面对突发流量时能够迅速响应，保持高可用状态。更重要的是，即使某个服务发生故障，也不会导致整个系统的瘫痪，提高了系统的容错能力。因此，我选择了微服务架构作为系统的基石，接下来结合项目实际情况探讨微服务架构的应用。

复杂应用的解耦势必会出现服务管理的问题。为了解决这个问题，我采用了Spring Cloud Alibaba 微服务框架，这一框架具有强大的功能和良好的生态系统。在此基础上，我结合 Nacos 进行服务的注册、发现以及配置管理，这一组合极大的简化了服务的管理流程,提升了服务的稳定性和可维护性。为了进一步提升服务间的调用效率，我选择了 Dubbo 作为 RPC 远程服务调用框架，Dubbo 具有高性能和透明化的特点，能够很好地解决服务间高效调用的问题。由于服务被拆分成多个，当某些操作需要同时调用多个服务时可能会出现部分服务操作成功而部分服务操作失败，进而导致数据不一致的问题。针对这一状况，我引入了 Seate 来进行分布式事物的一致性管理。通过这一措施，能够确保各个服务之间的操作要么全部成功，要么全部失败，从而有效防止了数据不一致现象的发生。此外，我还使用了Gateway 作为 API网关，对所有前端的请求进行统一管理和路由，根据负载均衡策略调用同一服务的不同实例，起到了资源合理分配以及快速响应的作用。

服务的独立性为技术栈的灵活选择及出色的容错能力尊定了坚实基础。这种独立性体现在每个服务的高度自治上，它们能够自主进行开发、测试及部署，且各服务间的进度互不干扰。得益于高度自治，各服务可以根据实际需求，自由选择最适合的技术栈。例如，表务服务需要在每天凌晨接受大量抄表数据上报，便采用 RabbitMO 信息队列进行抄表数据的分发和处理，有效减轻系统的负担，提升稳定性;而营收服务涉及退款、余额调整等复杂流程，则引入了 Flowable 工作流引擎进行流程的设计和管理，增强了流程的可维护性。服务的独立性有效降低了系统耦合度，即使某个服务出现了故障或暂时不可用，其他服务仍能正常运行，确保系统整体不因单一服务失效而奔溃，显著提升了系统的容错性。

系统的易扩展性至关重要，它要求在面对海量且突发的流量时，系统必须能够自动执行一系列操作，如限流、扩容和降级等，以确保其稳定性;当业务流量回落时，系统需要智能地回收多余资源，从而避免浪费。容器化技术以其高度的服务独立性和可移植性，成为了在不同环境中轻松部署和运行服务的理想选择。因此，我采用了 Docker 容器化技术，对每个服务及其运行环境进行统一封装。同时，结合k8s进行容器集群的管理和编排，实现了根据实际业务需求自动调整业务服务规模的能力，既确保了系统的高可用性，又实现了资源的合理利用。鉴于服务容器数量庞大，手动部署已不再是合理的选择。为此，我引入了Jenkins进行代码构建、测试和部署。通过 k8s和 Jenkins 的紧密结合，实现了系统的自动化部署,显著提高了部署效率。此外，在每个服务中，我使用了Flway来自动执行因变更而需要执行的 SOL语句，从而避免了人工操作数据库可能带来的失误和系统不可用风险。同时，我还采用了 Sentinel对流量进行监控，一旦流量出现异常，Sentinel 能够自动采取限流或降级措施，有效防止服务因资源耗尽而引发的雪崩效应，进一步保障了系统的可用性。

本系统自 2023年2月正式投入运行以来，始终保持平稳运行，这一成就于微服务架构的选用息息相关。在项目运行过程中，尽管遭遇了数次突发流量高峰的调整，但得利于微服务架构的易扩展性，系统能够迅速进行资源扩容，从而确保在流量激增的情况下依然能够稳定的提供服务。本系统在水务集团的日常工作中展现出了显著的优势，极大地提升了工作效率。它不仅助力水务集团在数字化转型的道路上迈出了坚实的一步，还赢得了水务集团的高度评价和嘉奖。

通过本项目系统架构的设计和实现过程,我深刻认识到微服务架构对于提升系统的容错能力、提高系统的可扩展性以及保障系统可用性的重要作用。这一经历让我更加清醒的认识到，在软件系统架构的这条道路上，我仍有大量知识需要学习，还有很长的路要走。然而，正如屈原所言:“路漫漫其修远兮，吾将上下而求索。”我将以坚定的决心和不懈的努力，持续探索、学习和实践，不断提升自己的专业素养，致力于构架更加卓越的软件系统架构。

### 论文总结

​	本人于2022年3月**参与**了物联网云平台项目，并**担任**系统架构设计师一职，**负责**该系统的**架构**设计和**技术**规划。**该项目**旨在将公司设备产品**以及**第三方设备**统一**接入平台进行**监测**、控制，并动态展示**可视化**数据，同时**集成**会议管理系统，将平台**接入**的设备与学校、会议室等场所**深度融合**，实现**智能化**管理

> 安全架构
>
> 本文以物联网云平台项目为例，**主要讨论**安全架构在**该项目**中的应用。设备**认证与授权**构成平台的第一道防线，采用**PKI/**X.509证书体系和**OAuth** 2.0保障设备**身份**的唯一性**和操作**的合法性，**防止**非法设备接入导致数据泄露或系统攻击。数据**加密与传输**安全确保了数据在设备、**边缘网关**、云平台**之间**的机密性和完整性，采用**TLS**协议和基于TLS的MQTT抵御中间人攻击。**访问控制**与权限管理则**细化**了用户**和**设备对平台**资源**的**访问粒度**，采用基于角色的**访问控制模型**（RBAC）和API Gateway实现**精细**授权，**确保**数据和操作的隔离性和安全性

> 微服务
>
> 本文以物联网云平台为例，主要讨论微服务架构在该项目中的应用。设备数据采集服务采用RabbitMQ消息队列，处理大量设备上报数据，确保数据传输的吞吐量和可靠性。服务注册中心采用Nacos来管理微服务的注册、发现与配置，实现服务的动态扩展与高可用。核心业务流程通过分布式事务中间件，保障跨服务的业务操作数据的一致性

>  云原生
>
> 本文以物联网云平台项目为例，主要讨论云原生架构在该项目中的应用。针对异构服务与环境依赖问题，系统采用Docker容器化技术，实现了服务运行环境的标准化与隔离，有效规避了在不同环境上的运行问题。为应对大规模服务部署与自动化运维，系统采用k8s进行容器编排，实现了服务的弹性伸缩、故障自愈和资源高效利用。为践行DevOps理念，我们构建了持续集成与持续交付（CI/CD）流水线，显著提升了软件交付效率和系统稳定性

​	随着物联网技术的飞速发展和各行业数字化转型的深入，设备种类繁多、数据异构、管理分散等问题日益凸显。为解决公司产品及第三方设备管理碎片化、数据孤岛等痛点，同时抓住智能会议、智慧校园的市场机遇，物联网云平台项目应运而生。本项目开发人员17人，包含产品经理、前后端、移动端、嵌入式、测试等多类技术人员。本人在项目中担任系统架构设计师，负责整体架构设计、核心技术选型。该系统历时16个月，于2023年7月完成交付

​	系统由设备管理、数据中心、租户管理等模块构成。具体而言，设备管理模块负责实现各种类型设备的注册、认证、状态监测、远程控制指令下发以及协议解析。数据中心则专注于处理设备上报的传感器数据、运行日志等大量异构数据，包括数据的采集、清洗、存储、实时分析和历史查询，为上层应用提供可靠的数据支撑。租户管理模块则提供权限管理、角色分配以及资源配额等功能，确保不同组织或用户能够独立、安全的使用平台服务。

> 安全架构
>
> 由于该系统使用了安全架构，极大的增强了数据完整性、机密性和系统可用性，下面针对安全架构的这些特性进行介绍
>
> 安全架构是一种结构化的设计方法，旨在将安全控制措施融入到系统的各个层面，从架构、开发到运维、部署，全面考虑潜在的安全风险，并通过一系列技术和管理手段抵御这些风险。它不仅是简单的堆砌安全产品，更强调通过系统化思维，构建一个具有纵深防御能力的整体。其核心目标是保障数据的完整性、机密性以及系统的可用性。此外，不可否认性和可追溯性也是安全架构中不可或缺的组成部分。接下来我将结合项目实际情况探讨安全架构的应用
>
> 设备认证与授权是任何物联网平台的安全基石。它解决的核心问题是“谁有权接入平台？”以及“接入后可以做什么？”。在该项目中，由于设备种类繁多，包括公司自研产品和大量第三方设备，其接入认证的复杂度和重要程度不言而喻。我们面临的问题是如何为每台设备提供唯一且不可伪造的身份，并确保只有授权设备才能访问平台资源。为此，我们采用基于PKI的X.509证书体系进行设备认证。每台设备首次注册时，都会颁发一个唯一的X.509数字证书，该证书由平台根证书机构签名。设备通过TLS握手时出示此证书，平台验证证书链的有效性，从而确定设备的合法身份。此外，为了管理设备对特定操作的权限，我们引入OAuth 2.0授权框架。设备在成功认证后，可以获得访问令牌（Access Token），该令牌包含其授权的操作范围
>
> 数据加密与传输安全是确保数据在设备与云平台之间传输过程不被窃听、篡改的关键环节。该项目中，大量的传感器数据、控制指令、会议信息需要在不同实体间进行传递。我们面临的问题是，如何在资源受限的设备端实现高效的加密，确保数据在复杂的网路环境中安全到达云端。为此，我们选择TLS作为传输层安全协议。对于设备端，我们优先考虑轻量级TLS库，并对加密算法进行优化，以适应嵌入式设备的性能限制。此外，通过配置使用基于TLS的MQTT通信保障数据机密性
>
> 访问控制与权限管理是保障系统内部数据安全和功能隔离的重要组成部分。它解决的核心问题是“谁可以访问什么资源？”以及“可以执行什么操作？”。该项目中，既有平台管理员、普通租户，也有特定设备关联用户，以及场所管理人员，权限差异巨大。我们面临的问题是如何构建一个灵活且可拓展的权限管理体系，以满足不同角色对资源的访问需求。我们采用RBAC模型，通过定义角色，将权限集赋予角色，再将用户关联到角色。在系统实现层面，我们利用API Gateway作为外部访问的统一接口。所有请求都经过网关进行身份认证、权限校验，确保只有相应权限的用户才能访问特定服务和数据。这种细粒度的权限控制结合API Gateway，有效防止了越权访问，并提供了清晰的审计日志，便于安全事件追溯

> 微服务
>
> 由于该系统使用了微服务架构，极大的增强了系统的可修改性、可用性、互操作性。下面将针对微服务架构的这些关键特性进行介绍
>
> 微服务架构是一种将复杂应用拆分为多个小型、松耦合服务的架构风格。每个服务围绕特定的业务能力构建，并可以由独立的团队开发、部署、维护。这些服务运行在自己的进程中，通过轻量级的通信机制进行交互。微服务强调服务的独立性，使得系统能够更好得应对变化，提高开发效率，并支持不同技术栈得选择。接下来我将结合项目实际情况探讨微服务架构的应用
>
> 在设备数据采集服务中，系统采用消息队列来解决大量设备数据上报的并发处理和削峰填谷问题。真实业务场景中，设备每秒能产生大量的监测数据，如果直接写入数据库，很容易造成数据库压力过大。因此我们采用RabbitMQ消息队列，将设备上报的原始数据统一发布到RabbitMQ的交换机中，由交换机根据预设规则将数据路由到对应的队列。后续数据解析服务、数据存储服务等消费者异步的从RabbitMQ队列中消费数据进行解析、校验、持久化。这种异步通信模式实现了数据生产者和消费者之间的解耦，有效削峰填谷，避免瞬时高并发对核心数据库的直接冲击，确保数据传输的高吞吐量和可靠性，即使某个处理服务暂时故障，数据也能在队列中缓存，等恢复后继续处理
>
> 对于整个微服务系统的运行和管理，系统采用Nacos作为服务注册中心与配置管理中心。该项目中，服务实例的数量和网络地址是动态变化的，因此需要类似“黄页”的管理中心，使得服务知道自己调用的目标所在位置。Nacos提供了服务注册功能，允许各个微服务在启动时，将自身信息注册到Nacos。同时，Nacos还提供了服务发现功能，当一个服务需要调用另一个服务时，它会向Nacos查询目标服务的可用实例列表，从而实现动态服务查找和客户端侧的负载均衡。此外，Nacos还具有动态配置管理能力，允许集中管理所有微服务的配置，并支持配置热更新，无需重启服务。这极大提升系统的可维护性、弹性伸缩和服务的动态管理能力，方便服务动态扩容和故障恢复
>
> 对于数据中心，涉及的服务往往不止一个，单体事务已经无法应对复杂业务流程，因此数据一致性是该系统所要面临的挑战。如在会议管理系统中，会议还涉及场所下设备相关服务，这些操作分布在不同独立服务中，需要保证它们要么全部成功，要么全部失败。为此，系统采用分布式中间件Seata。Seata作为一个高性能分布式事务解决方案，其提供的多种事务模式，如AT模式，能够保证跨服务的业务操作数据的最终一致性。通过Seata，我们将多个独立服务的操作纳入一个全局事务管理中。当业务流程中某个环节失败时，Seata能够协调所有参与者进行回滚或补偿操作，保障了复杂业务场景下系统的可靠性

> 云原生
>
> 由于该系统使用了云原生架构，极大的增强了系统的自动化运维、快速迭代与高可用，下面针对云原生架构的这些特性进行介绍
>
> 云原生架构是一种现代软件开发方法论，它充分利用了云计算模型的优势，其核心思想是将应用软件设计为一系列松耦合、分布式的微服务。并通过一系列技术和实践来实现这些服务的自动化部署、弹性伸缩、资源隔离、故障自愈。这使得应用软件能够更好的适应云环境，实现敏捷开发和持续交付。云原生架构的关键支柱包括容器化、容器编排和DevOps文化与自动化实践。容器化将应用软件及其所有依赖打包到独立可移植的单元中，确保了环境一致性。容器编排则自动化了这些容器的部署、管理、拓展、网络连接。而DevOps则是一种文化和实践，强调开发和运维的紧密协作，通过持续集成和持续交付流水线，实现软件快速、频繁、可靠发布。接下来我将结合项目实际情况探讨云原生架构的应用
>
> 在该项目中，我们首先面对的是多服务异构、环境依赖复杂导致的部署与运维难题。传统部署方式，如在虚拟机上手动安装依赖或使用脚本部署，极易出现“开发环境正常，生产环境崩溃”的环境不一致问题。为从根本上解决这一痛点。系统全面引入Docker容器化技术。Docker允许我们将应用软件及其所有依赖，打包到一个独立、可移植的容器镜像中。在该项目中，无论是基于Java的数据处理服务、NodeJS的前端服务、还是基于Python的数据分析模块，都被封装成独立的Docker容器，这意味着每个服务都有一个独立、标准化的运行环境，与其它服务完全隔离，互不影响。这种方式极大的消除了因环境差异导致的部署失败，显著提升了开发效率和部署可靠性
>
> 随着云平台服务数量的增加和用户规模的扩大，服务的部署、弹性伸缩、故障恢复、负载均衡成了不可忽视的问题。手动管理大量容器实例是不现实的，且难以应对因对突发流量和服务故障。为了解决大规模容器管理与自动化运维痛点，系统采用k8s作为核心。k8s提供了一套强大的机制，来自动化容器的部署、管理。如设备接入量激增导致某个数据采集服务负载过高时，k8s可以根据预设的指标，如CPU利用率，自动增加该服务的实例数量，实现弹性伸缩。又或者某个服务实例发生故障崩溃时，k8s能够自动检测并重新启动新的实例，确保服务的高可用性和故障自愈。此外k8s具有负载均衡能力，确保流量能够均匀的分发到健康的实例上，极大的提升了系统可靠性和性能
>
> DevOps是一种理念，强调开发与运维的紧密协作，通过自动化工具链和流程，实现软件交付全生命周期的自动化。传统模式下，开发与运维存在明显的“墙”，导致沟通不畅，发布周期长，故障排查困难。为实现云平台快速迭代与高质量交付，我们践行DevOps理念。构建了完善的CI/CD流水线：开发人员提交代码后，CI管道会自动触发代码编译、单元测试、静态代码分析，并通过Docker打包生成镜像。一旦CI阶段通过，CD管道则会将新的服务镜像部署到k8s集群中，并进行集成测试和冒烟测试。这种自动化流程显著缩短了从代码提交到功能上线的周期，减少了人为失误，确保每次发布的质量，是我们能够以更快速度响应业务需求变化

​	物联网云平台项目于2023年7月圆满完成验收并正式上线，上线以来系统运行持续稳定，各项核心功能表现出色。平台所提供的可视化数据展示极大提升了用户对设备运行状态的掌控。高效便捷的远程控制功能实现了对大量设备的精准操作与管理。深度融合的智能会议管理系统则显著优化了会议流程。这些核心能力不仅获得了公司领导高度认可，更赢得广大客户的一致好评。通过该平台实施，公司成功解决了以往设备管理碎片化、数据孤岛等痛点，为公司在物联网领域的市场竞争力奠定了坚实的基础

> 安全架构
>
> 尽管项目取得了显著成效，但在安全架构方面仍有提升空间。未来可以探索引入基于行为分析的异常检测，通过机器学习实时监测设备和用户的异常行为，如异地登陆、访问频率，从而实现更早期的威胁预警

> 微服务
>
> 尽管项目取得了显著成效，但在微服务架构方面仍有提升空间。未来可以引入Sentinel组件，进一步强化熔断保护机制，当某个下游服务出现故障或响应缓慢时，能够迅速进行降级处理，避免故障扩散，保护核心业务

> 云原生
>
> 尽管项目取得了显著成效，但在云原生架构方面仍有提升空间。未来可以考虑无服务器技术，将部分服务化为事件驱动，以实现按需付费，为物联网平台未来大规模拓展做好准备

## 题库刷题范围

- 操作系统基础
- 数据库设计
- 软件工程
- 面向对象设计
- 架构设计
- 质量属性和架构评估
- 知识产权

## 知识点

- 了解Ping/echo、心跳机制是什么原理，优缺点
- 分布式数据库所用的技术、名词
  - 看Hadoop课件
- Redis缓存相关技术、分布式缓存、Redis指令
- 大数据（Lambda、Kappa架构）、云原生（持续交付、DevOps、CI/CD）、分布式、安全架构相关技术（了解概念名词、原理）
  - 先从书看起，结合AI解释，相关的章节有：第11章、第14章、第15章、第18章、第19章
  - 有空可以把第13章层次架构也看一下，了解下常用架构技术
  - 安全架构：主要看安全架构和其他架构的的揉杂，如安全架构+层次架构、安全架构+云原生
  - 下篇 八大架构的内容可以用于论文中
- 数据库 的 案例分析 题目**场景**
  - 高并发、分布式场景的处理
  - 一致性的解决方案
  - 缓存
  - NoSQL数据库特点
